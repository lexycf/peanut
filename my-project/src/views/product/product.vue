<template>
    <div class="productbox">
        <div class="banner">
            <div class="txtbox">
                <h1>手机碎屏互助计划</h1>
                <p>最低每年<span>1</span> 元钱保护手机屏</p>
            </div>
            <div class="imgbox">
                <img src="../../../static/image/product/images/p_1_03.jpg" alt="">
            </div>
        </div>
        <div class="head">
            <h1>{{hadMemNum}}</h1>
            <p>已加入会员</p>
        </div>
        <div class="cont1">
            <div class="cont1_head">
                <h1>了解互助</h1>
            </div>
            <div class="cont1s" style="padding-top:0;">
                <div class="cont1s_top">
                    <div class="top_1">
                        <span>1</span>
                    </div> 
                    <div class="top_2">
                        <p>每年有大量手机用户因使用不当，导致手机屏幕摔碎，更换屏幕动则500元以上，成本高昂。快来参与碎屏互助计划，可以帮助他人同时保障自己的手机屏幕。</p>
                    </div>
                </div>
                <div class="cont1s_bottom">
                    <div class="bt_1"><img src="../../../static/image/product/images/p_1_04_03.jpg" alt=""></div>
                    <div class="bt_2">
                        <p>iPhone8换外屏最低￥499 起<br/>换外屏最低￥799 起</p>
                    </div>
                </div>
            </div>
            <div class="cont1s">
                <div class="cont1s_top">
                    <div class="top_1">
                        <span>2</span>
                    </div> 
                    <div class="top_2">
                        <p>预付1元加入互助，既保护自己又帮助他人<br/><i>有人需要更换屏幕时，大家协力帮助</i></p>
                    </div>
                </div>
                <div class="cont1s_bottom">
                    <div class="bt_1"><img src="../../../static/image/product/images/p_1_04_03.jpg" alt=""></div>
                    <div class="bt_2">
                        <p>例如有20万会员，每月有500个用户碎屏<br/>每人可获得400元帮助。</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="cont2">
            <h1>互助规则</h1>
        </div>
        <div class="cont3" style="padding-top:0;">
            <h1>1&nbsp;加入条件</h1>
            <p>需要是近180天内购买的手机，没有维修记录。</p>
        </div>
        <div class="cont3">
            <h1>2&nbsp;帮助次数&nbsp;<i>每年1次免费换屏</i></h1>
            <p>每年可帮助免费换屏一次，经常碎屏的用户属于使用习惯不好，我们无能为力。</p>
        </div>
        <div class="cont3">
            <h1>3&nbsp;分摊规则&nbsp;单次最高不超过<i>3元</i></h1>
            <p>如果有会员碎屏救助，其他会员会分摊帮助。</p>

             <div class="cont4">
            <ul>
                <li>
                    <span>会员人数</span>
                    <span>均摊规则</span>
                    <span>碎屏总帮助金</span>
                </li>
                <li>
                    <span>10万</span>
                    <span>2.0元</span>
                    <span>20万</span>
                </li>
                <li>
                    <span>20万</span>
                    <span>1.0元</span>
                    <span>20万</span>
                </li>
                <li>
                    <span>30万</span>
                    <span>1.0元</span>
                    <span>30万</span>
                </li>
            </ul>
        </div>
        <div class="cont5">
            <p>说明：如图，会员越多分摊金额越少。</p>
        </div>
        </div>
       
        <div class="cont6">
            <h1>4&nbsp;最高获捐&nbsp;<i>1000元</i></h1>
        </div>
        <div class="cont7">
            <ul>
                <li>
                    <span>手机价格</span>
                    <span>碎屏帮助金</span>
                </li>
                <li>
                    <span>>500元，≦1000元</span>
                    <span>100元</span>
                </li>
                <li>
                    <span>>1000元，≦2000元</span>
                    <span>200元</span>
                </li>
                <li>
                    <span>>2000元，≦3000元</span>
                    <span>300元</span>
                </li>
                <li>
                    <span>>3000元，≦4000元</span>
                    <span>400元</span>
                </li>
                <li>
                    <span>>10000元</span>
                    <span>1000元</span>
                </li>
            </ul>
        </div>
        <div class="cont8">
            <h1>5&nbsp;余额要求</h1>
            <p>账户不低于3元</p>
        </div>
        <div class="cont8">
            <h1>6&nbsp;等待期&nbsp;<i>60天</i></h1>
            <p>30天等待期，防止有用户带坏手机加入</p>
        </div>
        <div class="cont9">
            <div class="tit">服务保障</div>
            <div class="cont9_box">
                <div class="cont9_box1">
                    <div class="box_a">
                        <div class="tsBox">
                            <div class="imgaebox"><img src="../../../static/image/index/images/icon4.png" alt=""></div>
                            <div class="box_txt">
                                <h1>平台可靠</h1>
                                <p>互联网一线公司投资运作</p>
                            </div>
                        </div>
                        
                    </div>
                    <div class="box_a">
                        <div class="tsBox">
                            <div class="imgaebox"><img src="../../../static/image/index/images/icon5.png" alt=""></div>
                            <div class="box_txt">
                                <h1>事件审核</h1>
                                <p>每一例帮助金都经过严格调查并公示用户</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cont9_box1">
                    <div class="box_a">
                        <div class="tsBox">
                            <div class="imgaebox"><img src="../../../static/image/index/images/icon6.png" alt=""></div>
                            <div class="box_txt">
                                <h1>资金安全</h1>
                                <p>专款专用，资金存管安全放心</p>
                            </div>
                        </div>
                    </div>
                    <div class="box_a">
                        <div class="tsBox">
                            <div class="imgaebox"><img src="../../../static/image/index/images/icon7.png" alt=""></div>
                            <div class="box_txt">
                                <h1>流程透明</h1>
                                <p>互助流程全程公示用户，全员监督</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="contact">
            <!-- <div class="conBox"><img src="../../../static/image/product/tel.png" alt="">电话咨询</div>
            <div class="conBox"><img src="../../../static/image/product/wx.png" alt="">微信咨询</div> -->
        </div>
        <div class="joinBox">
            <div class="joinBtn"><router-link  :to="{path:'/join', query:{openid:openid}}" class='links'></router-link>立刻加入</div>
            <div class="joinleft"><img src="../../../static/image/product/jt.png" alt="">分享</div>
        </div>
    </div>
</template>
<script>
require('./product.less');
import { Toast } from "mint-ui";
import Cookies from 'js-cookie';
import { getMemberNum} from '@/api/index';
import { shareurl} from '@/api/wxapi';
export default {
    name:'product',
    created(){
        this.getMemberNumFun();
        this.getopenid();
        
        this.getwxParam();
    },
    data(){
        return {
            hadMemNum:0,
            openid:''
        }
    },
    methods:{
        getwxParam(){
            let url=location.href;
            let data={
                    openid:this.openid,
                    url:url
                }
               
                data=JSON.stringify(data);
                console.log(data);
                shareurl(data).then(res => {
                let result=res.data;
                if(result.status==200){
                    this.hadMemNum=result.data.members;
                }else{
                    Toast(result.msg);
                }
             
            
            })
        },

         getMemberNumFun(){
            let data={
                    openid:this.openid
                }
            getMemberNum(data).then(res => {
                let result=res.data;
                if(result.status==200){
                    this.hadMemNum=result.data.members;
                }else{
                    Toast(result.msg);
                }
             
            
            })
        },
        getPaidOrderNumFun(){
            let data={
                    openid:this.openid
                }
            getPaidOrderNum(data).then(res => {
                let result=res.data;
                if(result.status==200){
                    this.getOrderNum=result.data.orders;
                }else{
                    Toast(result.msg);
                }
             
            
            })
        },
        getopenid(){
            let openid=Cookies.get('openid');
            if(!openid){
                this.openid = this.getUrlKey('openid');
            }else{
                this.openid=openid;
            }
            console.log(this.openid);
        },
       
        getUrlKey (name) {
            return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || [, ""])[1].replace(/\+/g, '%20')) || null
        },
    },
}
</script>

