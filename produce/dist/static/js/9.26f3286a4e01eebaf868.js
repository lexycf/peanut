webpackJsonp([9],{hxi7:function(t,i){},uHNG:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("Au9i"),a=s("FWz8"),n=s("lbHh"),l=s.n(n);s("hxi7");var c={name:"upload",data:function(){return{imgNum:4,phone1:"",phone2:"",phone3:"",phone4:"",imgsarr:[],i:0,openid:""}},created:function(){this.getOpenid()},methods:{getFile:function(t,i){var s=s||window.event,e=new FileReader,a=s.target.files[0];e.readAsDataURL(a);var n=this;e.onload=function(){console.log(this.result),n["phone"+t]=this.result;var s=this.result;""!=n["phone"+t]&&n.uploadPicFun(s,i)}},getFile2:function(){if(this.imgsarr.length>4)return Object(e.Toast)("最多可上传4张图片"),!1;var t=t||window.event,i=new FileReader,s=t.target.files[0];i.readAsDataURL(s);var a=this;i.onload=function(){var t=[];t=a.imgsarr,console.log(t),t.push(this.result),a.imgsarr=t,console.log(a.imgsarr),a.uploadPicFun(this.result,"其他材料")}},uploadFun:function(){""==this.phone1&&""==this.phone2&&""==this.phone3&&""==this.phone4&&""==this.imgsarr?Object(e.Toast)("请先上传图片"):this.$router.push({path:"/paysuccess?openid="+this.openid})},uploadPicFun:function(t,i){var s=this,n={file:t,openid:this.openid,picName:i};Object(a.d)(n).then(function(t){var i=t.data;200==i.status?s.recordList=i.data.orders:Object(e.Toast)(i.msg)}).catch(function(t){Object(e.Toast)("网络错误，请刷新重试")})},delPicFun:function(t,i){var s=this;console.log(i),this.imgsarr.splice(i,1);var n={openid:this.openid,picName:"相关材料"};Object(a.a)(n).then(function(t){var i=t.data;200==i.status?s.recordList=i.data.orders:Object(e.Toast)(i.msg)}).catch(function(t){Object(e.Toast)("网络错误，请刷新重试")})},getOpenid:function(){var t=l.a.get("openid");this.openid=t&&null==t?t:this.getUrlKey("openid"),console.log(this.openid),l.a.set("openid",this.openid)},getUrlKey:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null}}},o={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"upload"},[s("div",{staticClass:"tit"},[t._v("请拍照上传资料：")]),t._v(" "),s("div",{staticClass:"loadBox"},[s("div",{staticClass:"t"},[t._v("1 手机照片")]),t._v(" "),s("div",{staticClass:"up"},[s("div",{staticClass:"upl"},[s("span"),s("p",[t._v("手机正面照片")]),t._v(" "),s("input",{ref:"files",staticClass:"inp",attrs:{type:"file",accept:"image/*",multiple:"multiple"},on:{change:function(i){t.getFile(1,"手机正面")}}}),t._v(" "),s("img",{staticClass:"imgs",attrs:{src:t.phone1,alt:"",id:"phone1"}})]),t._v(" "),s("div",{staticClass:"upl"},[s("span"),s("p",[t._v("手机背面照片")]),t._v(" "),s("input",{ref:"files",staticClass:"inp",attrs:{type:"file",accept:"image/*",multiple:"multiple"},on:{change:function(i){t.getFile(2,"手机反面")}}}),t._v(" "),s("img",{staticClass:"imgs",attrs:{src:t.phone2,alt:"",id:"phone2"}})])])]),t._v(" "),s("div",{staticClass:"clears"}),t._v(" "),s("div",{staticClass:"loadBox"},[s("div",{staticClass:"t"},[t._v("1 购机发票")]),t._v(" "),s("div",{staticClass:"up"},[s("div",{staticClass:"upl"},[s("span"),s("p",[t._v("发票正面照片")]),t._v(" "),s("input",{ref:"files",staticClass:"inp",attrs:{type:"file",accept:"image/*",multiple:"multiple"},on:{change:function(i){t.getFile(3,"发票正面")}}}),t._v(" "),s("img",{staticClass:"imgs",attrs:{src:t.phone3,alt:"",id:"phone3"}})]),t._v(" "),s("div",{staticClass:"upl"},[s("span"),s("p",[t._v("发票背面照片")]),t._v(" "),s("input",{ref:"files",staticClass:"inp",attrs:{type:"file",accept:"image/*",multiple:"multiple"},on:{change:function(i){t.getFile(4,"发票反面")}}}),t._v(" "),s("img",{staticClass:"imgs",attrs:{src:t.phone4,alt:"",id:"phone4"}})])])]),t._v(" "),s("div",{staticClass:"clears"}),t._v(" "),s("div",{staticClass:"loadBox"},[s("div",{staticClass:"t"},[t._v("1 其他证明材料")]),t._v(" "),s("div",{staticClass:"up"},[s("div",{staticClass:"imgsBox"},t._l(t.imgsarr,function(i,e){return s("div",{key:i.index,staticClass:"img-ul"},[s("img",{attrs:{src:i,alt:""},on:{click:function(s){t.delPicFun(i,e)}}})])})),t._v(" "),s("div",{staticClass:"upl"},[s("div",{staticClass:"jia"},[t._v("＋")]),s("input",{ref:"files",staticClass:"inp",attrs:{type:"file"},on:{change:function(i){t.getFile2()}}})])])]),t._v(" "),s("div",{staticClass:"clears"}),t._v(" "),s("div",{staticClass:"upBtn",on:{click:function(i){t.uploadFun()}}},[t._v(" 上传资料")])])},staticRenderFns:[]},p=s("VU/8")(c,o,!1,null,null,null);i.default=p.exports}});
//# sourceMappingURL=9.26f3286a4e01eebaf868.js.map